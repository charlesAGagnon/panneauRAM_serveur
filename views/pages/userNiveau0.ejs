<!--
* @file userNiveau0.ejs
* @author charles-Antoine Gagnon
* @version 1 - Dashboard RAM Niveau 0 (Invit√©)
* @date 14/11/2025
* @brief Dashboard RAM - Niveau 0 : LECTURE SEULE (aucun contr√¥le)
-->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PanneauRAM - Dashboard (Invit√©)</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/modern.css">
    <link rel="stylesheet" href="/stylesheets/ui-components.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body style="margin: 0; padding: 0; background: #f8f9fa;">

    <%- include('../partials/header', { currentPage: 'dashboard', user, niveau, typeAcces }) %>

    <!-- MAIN CONTENT: 3 COLUMNS (NO CONTROLS, ONLY DATA DISPLAY) -->
    <div style="padding: 24px; display: grid; grid-template-columns: 2fr 1.5fr 1fr; gap: 24px;">

        <!-- COLUMN 1: GRAPH & MONITORING -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-header-title">üìà Monitoring Temps R√©el</h2>
            </div>
            <div class="card-body">
                <div style="height: 300px; background: #f3f4f6; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #6b7280; font-size: 14px;">
                    Graphique (placeholder)
                </div>
                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                    <p style="font-size: 12px; color: #6b7280; margin: 0;">
                        <strong>R√©servoirs :</strong> GB: <span id="legend-gb">--</span>% | PB: <span id="legend-pb">--</span>%
                    </p>
                    <p style="font-size: 12px; color: #6b7280; margin: 4px 0 0 0;">
                        <strong>Temp√©rature :</strong> <span id="legend-temp">--</span>¬∞C
                    </p>
                </div>
            </div>
        </div>

        <!-- COLUMN 2: STATUS ONLY (NO CONTROLS) -->
        <div style="display: flex; flex-direction: column; gap: 16px;">

            <!-- RESERVOIRS STATUS - VISUAL CYLINDERS -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-header-title">üè∫ R√©servoirs</h3>
                </div>
                <div class="card-body" style="display: flex; justify-content: space-around; align-items: flex-end; gap: 12px; min-height: 200px;">
                    <!-- Cylindre GB -->
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
                        <div style="font-size: 10px; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">GB</div>
                        <div style="position: relative; width: 50px; height: 120px; border: 2px solid #0d6efd; border-radius: 6px; background: #f0f4ff; overflow: hidden;">
                            <div id="cylinder-gb-fill" style="position: absolute; bottom: 0; width: 100%; height: 0%; background: linear-gradient(180deg, #0d6efd, #0a58ca); transition: height 0.3s ease; border-radius: 4px;"></div>
                        </div>
                        <div style="font-weight: 700; font-size: 16px; color: #0d6efd;" id="val-gb">0%</div>
                    </div>

                    <!-- Cylindre PB -->
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 8px;">
                        <div style="font-size: 10px; font-weight: 600; color: #6b7280; text-transform: uppercase; letter-spacing: 0.5px;">PB</div>
                        <div style="position: relative; width: 50px; height: 120px; border: 2px solid #0d6efd; border-radius: 6px; background: #f0f4ff; overflow: hidden;">
                            <div id="cylinder-pb-fill" style="position: absolute; bottom: 0; width: 100%; height: 0%; background: linear-gradient(180deg, #0d6efd, #0a58ca); transition: height 0.3s ease; border-radius: 4px;"></div>
                        </div>
                        <div style="font-weight: 700; font-size: 16px; color: #0d6efd;" id="val-pb">0%</div>
                    </div>
                </div>
            </div>

        </div>

        <!-- COLUMN 3: POWER METER -->
        <div style="display: flex; flex-direction: column; gap: 16px;">

            <!-- POWER METER STATS -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-header-title">‚ö° Power Meter</h3>
                </div>
                <div class="card-body" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <div class="stat-card">
                        <div class="stat-label">Van</div>
                        <div class="stat-value" id="stat-van" style="font-size: 20px;">--</div>
                        <div class="stat-unit">V</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Vbn</div>
                        <div class="stat-value" id="stat-vbn" style="font-size: 20px;">--</div>
                        <div class="stat-unit">V</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Vab</div>
                        <div class="stat-value" id="stat-vab" style="font-size: 20px;">--</div>
                        <div class="stat-unit">V</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Ia</div>
                        <div class="stat-value" id="stat-ia" style="font-size: 20px;">--</div>
                        <div class="stat-unit">A</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Ib</div>
                        <div class="stat-value" id="stat-ib" style="font-size: 20px;">--</div>
                        <div class="stat-unit">A</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">KW</div>
                        <div class="stat-value" id="stat-kw" style="font-size: 20px;">--</div>
                        <div class="stat-unit">kW</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">KWh</div>
                        <div class="stat-value" id="stat-kwh" style="font-size: 20px;">--</div>
                        <div class="stat-unit">kWh</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">FP</div>
                        <div class="stat-value" id="stat-fp" style="font-size: 20px;">--</div>
                        <div class="stat-unit"></div>
                    </div>
                </div>
            </div>

            <!-- TEMPERATURE -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-header-title">üå°Ô∏è Temp√©rature</h3>
                </div>
                <div class="card-body">
                    <div class="stat-card">
                        <div class="stat-label">Temp PB</div>
                        <div class="stat-value" id="stat-temp" style="font-size: 28px;">--</div>
                        <div class="stat-unit">¬∞C</div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <!-- FOOTER -->
    <footer style="background: white; border-top: 1px solid #e5e7eb; padding: 16px 24px; text-align: center; margin-top: 24px; color: #6b7280; font-size: 12px;">
        <%- include('../partials/footer') %>
    </footer>

    <script>
        document.body.dataset.niveau = '0';

    </script>
    <script src="/scripts/dashboard-script.js"></script>

</body>
</html>
